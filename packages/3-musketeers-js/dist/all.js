(()=>{var S=!1;function D(i){S=i}var c={info:(...i)=>L(1,...i),warn:(...i)=>L(2,...i),error:(...i)=>L(3,...i)};function L(i,...n){if(S){let e=["\u{1F93A} %c[3-musketeers]"];switch(i){case 1:e.push("color: #06989A; font-weight: 600"),console.log(...e,...n);break;case 2:e.push("color: #C4A000; font-weight: 600"),console.warn(...e,...n);break;case 3:e.push("color: #CC0000; font-weight: 600"),console.error(...e,...n);break;default:break}}}var Y=/\[object (Boolean|Number|String|Function|Array|Date|RegExp|Arguments)]/;function y(i){if(i==null)return String(i);let n=Y.exec(Object.prototype.toString.call(Object(i)));return n?n[1].toLowerCase():"object"}function h(i){return y(i)==="array"}function M(i){return y(i)==="string"}function v(i,n){return Object.prototype.hasOwnProperty.call(Object(i),n)}function w(i){if(!i||y(i)!="object"||i.nodeType||i==i.window)return!1;try{if(i.constructor&&!v(i,"constructor")&&!v(i.constructor.prototype,"isPrototypeOf"))return!1}catch{return!1}let n;for(n in i);return n===void 0||v(i,n)}function C(i){return y(i)==="arguments"}function f(i,n){let e=!i._clear;for(let t in i)if(v(i,t)){let r=i[t];h(r)&&e?(h(n[t])||(n[t]=[]),f(r,n[t])):w(r)&&e?(w(n[t])||(n[t]={}),f(r,n[t])):n[t]=r}delete n._clear}function $(i,n){let e={},t=e,r=i.split(".");for(let o=0;o<r.length-1;o++)t=t[r[o]]={};return t[r[r.length-1]]=n,e}function k(i,n={}){let{async:e,defer:t,attributes:r}=n,o=document.createElement("script");o.async=!!e,o.defer=!!t,r&&Object.keys(r).forEach(s=>{o.setAttribute(s,r[s])}),o.setAttribute("src",i),document.body.appendChild(o)}function u(i,n={}){let{async:e,attributes:t,defer:r}=n,o=document.createElement("script");e&&(o.async=!0),r&&(o.defer=!0),t&&Object.keys(t).forEach(s=>{o.setAttribute(s,t[s])}),o.appendChild(document.createTextNode(i)),document.body.appendChild(o)}function H(i){return{set:(n,e)=>{f($(n,e),i.model_)},get:n=>i.get(n)}}function U(i,n){M(i[0])||c.warn(`Error processing command, no command was run. The first argument must be of type string, but was of type ${typeof i[0]}.
The command run was ${i}`);let e=i[0].split("."),t=e.pop(),r=i.slice(1),o=n;for(let s=0;s<e.length;s++){if(o[e[s]]===void 0){c.warn(`Error processing command, no command was run as the object at ${e} was undefined.
The command run was ${i}`);return}o=o[e[s]]}try{o[t](...r)}catch{c.error(`An exception was thrown by the method ${t}, so no command was run.
The method was called on the data layer object at the location ${e}.`)}}var P=class{constructor(n,e={}){this.dataLayer_=n,this.listener_=e.listener||(()=>{}),this.listenToPast_=!!e.listenToPast,this.processed_=!1,this.executingListener_=!1,this.model_={},this.unprocessed_=[],this.abstractModelInterface_=H(this),e.debugMode&&D(!0);let t=this.dataLayer_.push;this.dataLayer_.push=(...r)=>{let o=[].slice.call(r,0),s=t.apply(this.dataLayer_,o);return this.processStates_(o),s},e.processNow&&this.process()}process(){this.processed_&&c.error("Process has already been run. This method should only run a single time to prepare the helper."),this.processed_=!0;let n=this.dataLayer_.length;for(let e=0;e<n;e++)this.processStates_([this.dataLayer_[e]],!this.listenToPast_)}get(n){let e=this.model_,t=n.split(".");for(let r=0;r<t.length;r++){if(e[t[r]]===void 0)return;e=e[t[r]]}return e}processStates_(n,e=!1){if(this.processed_&&(this.unprocessed_.push(...n),!this.executingListener_))for(;this.unprocessed_.length>0;){let t=this.unprocessed_.shift();if(h(t))U(t,this.model_);else if(!C(t))if(typeof t=="function")try{t.call(this.abstractModelInterface_)}catch(r){c.error(`An exception was thrown when running the method ${t}, execution was skipped.`,r)}else if(w(t))for(let r in t)f($(r,t[r]),this.model_);else continue;e||(this.executingListener_=!0,this.listener_(this.model_,t),this.executingListener_=!1)}}};function l(i){let n=i,e={}.toString.call(i).slice(8,-1);if(e==="Set")return new Set([...i].map(t=>l(t)));if(e==="Map")return new Map([...i].map(([t,r])=>[l(t),l(r)]));if(e==="Date")return new Date(i.getTime());if(e==="RegExp")return RegExp(i.source,W(i));if(e==="Array"||e==="Object"){n=Array.isArray(i)?[]:{};for(let t in i)Object.prototype.hasOwnProperty.call(i,t)&&(n[t]=l(i[t]))}return n}function W(i){if(typeof i.flags=="string")return i.flags;{let n=[];return i.global&&n.push("g"),i.ignoreCase&&n.push("i"),i.multiline&&n.push("m"),i.sticky&&n.push("y"),i.unicode&&n.push("u"),n.join("")}}var a=class{constructor(){this.providerName="provider"}static{this.providerName="provider"}static logAction(n,...e){c.info(`[${n}]`,...e)}saveOptions(n={}){n.mapTrackEvent&&(this.mapTrackEvent=n.mapTrackEvent)}getTrackEvent(n,e){return this.mapTrackEvent?this.mapTrackEvent(n,e):{eventName:n,params:e}}};function N(i,n){let e=i;return n&&Array.isArray(n)&&n.length>0&&(e=i.filter(t=>n.includes(t.providerName))),e}function F(i,n){let[e,t,r]=n;N(i,r).forEach(s=>{let d=l(t);s.pageView(e,d)})}function G(i,n){let[e,t,r,o]=n;N(i,r).forEach(d=>{let p=l(t);d.track(e,p,o)})}function V(i,n){let[e,t,r]=n;N(i,r).forEach(s=>{let d=l(t);s.identify(e,d)})}var b=class{constructor(n=[]){this.listener=(n,e)=>{let t=[...e].splice(0,e.length);switch(t.shift()){case"init":let o=t.shift(),s=this.getProviderInstance(o);if(!s){c.error(`Provider '${o}' not found`);return}this.providers.some(p=>p.providerName===o)||this.providers.push(s),s.init(...t);break;case"track":G(this.providers,t);break;case"page":F(this.providers,t);break;case"identify":V(this.providers,t);break}};this.availableProviders=n,this.providers=[];let e=window.dataQueue||[];this.helper=new P(e,{listener:this.listener,listenToPast:!0,processNow:!0,debugMode:!0})}getProviderInstance(n){let e=this.providers.find(r=>r.providerName===n);if(e)return e;let t=this.availableProviders.find(r=>r.providerName===n);if(t)return new t}};var T=class extends a{constructor(){super(...arguments);this.providerName="google-tag-manager"}static{this.providerName="google-tag-manager"}init(e,t={}){a.logAction("INIT",`[${this.providerName}]`,e),this.saveOptions(t),window.dataLayer=window.dataLayer||[],function(r,o,s,d,p){r[d]=r[d]||[],r[d].push({"gtm.start":new Date().getTime(),event:"gtm.js"});let g=o.getElementsByTagName(s)[0],j=o.createElement(s),K=d!=="dataLayer"?"&l="+d:"";j.async=!0,j.src="https://www.googletagmanager.com/gtm.js?id="+p+K,g.parentNode&&g.parentNode.insertBefore(j,g)}(window,document,"script","dataLayer",e)}ready(){return Array.isArray(window.dataLayer)}pageView(e,t){a.logAction("PAGE",`[${this.providerName}]`,e,t),window.dataLayer.push({event:"page_view",page_title:e,...t})}track(e,t,r){let{eventName:o,params:s}=this.getTrackEvent(e,t);a.logAction("TRACK",`[${this.providerName}]`,o,s),window.dataLayer.push({event:o,...s}),typeof r=="function"&&r()}identify(e,t){a.logAction("IDENTIFY",`[${this.providerName}]`,e,t),window.dataLayer.push({event:"user_identify",user_id:e,user_properties:t})}};var E=class extends a{constructor(){super(...arguments);this.providerName="google-tag";this.tagIds=[]}static{this.providerName="google-tag"}init(e,t={}){if(a.logAction("INIT",`[${this.providerName}]`,e),this.saveOptions(t),this.tagIds.includes(e)){a.logAction("INIT",`[${this.providerName}]`,`Tag ${e} already initialized`);return}this.ready()||(window.dataLayer=window.dataLayer||[],window.gtag=function(){window.dataLayer.push(arguments)},window.gtag("js",new Date),k(`https://www.googletagmanager.com/gtag/js?id=${e}`)),this.tagIds.push(e),window.gtag("config",e)}ready(){return!!window.gtag}pageView(e,t){a.logAction("PAGE",`[${this.providerName}]`,e,t),window.gtag("event","page_view",{page_title:e,...t})}track(e,t,r){let{eventName:o,params:s}=this.getTrackEvent(e,t);a.logAction("TRACK",`[${this.providerName}]`,o,s),window.gtag("event",o,s),typeof r=="function"&&r()}identify(e,t){a.logAction("IDENTIFY",`[${this.providerName}]`,e,t),window.gtag("set","user_id",e),window.gtag("set","user_properties",t)}};var I=class extends a{constructor(){super(...arguments);this.providerName="amplitude"}static{this.providerName="amplitude"}init(e,t={},r,o={}){a.logAction("INIT",`[${this.providerName}]`,e),this.saveOptions(t),u(Z),r?window.amplitude.init(e,null,o):window.amplitude.init(e,r,o)}ready(){return!!window.amplitude}pageView(){}track(e,t,r){let{eventName:o,params:s}=this.getTrackEvent(e,t);a.logAction("TRACK",`[${this.providerName}]`,o,s),window.amplitude.track(o,s),typeof r=="function"&&r()}identify(e,t={}){a.logAction("IDENTIFY",`[${this.providerName}]`,e,t),window.amplitude.setUserId(e);let r=new window.amplitude.Identify;Object.keys(t).forEach(o=>r.set(o,t[o])),window.amplitude.identify(r)}},Z='!function(){"use strict";!function(e,t){var n=e.amplitude||{_q:[],_iq:{}};if(n.invoked)e.console&&console.error&&console.error("Amplitude snippet has been loaded.");else{var r=function(e,t){e.prototype[t]=function(){return this._q.push({name:t,args:Array.prototype.slice.call(arguments,0)}),this}},s=function(e,t,n){return function(r){e._q.push({name:t,args:Array.prototype.slice.call(n,0),resolve:r})}},o=function(e,t,n){e[t]=function(){if(n)return{promise:new Promise(s(e,t,Array.prototype.slice.call(arguments)))}}},i=function(e){for(var t=0;t<m.length;t++)o(e,m[t],!1);for(var n=0;n<g.length;n++)o(e,g[n],!0)};n.invoked=!0;var u=t.createElement("script");u.type="text/javascript",u.integrity="sha384-x0ik2D45ZDEEEpYpEuDpmj05fY91P7EOZkgdKmq4dKL/ZAVcufJ+nULFtGn0HIZE",u.crossOrigin="anonymous",u.async=!0,u.src="https://cdn.amplitude.com/libs/analytics-browser-2.0.0-min.js.gz",u.onload=function(){e.amplitude.runQueuedFunctions||console.log("[Amplitude] Error: could not load SDK")};var a=t.getElementsByTagName("script")[0];a.parentNode.insertBefore(u,a);for(var c=function(){return this._q=[],this},p=["add","append","clearAll","prepend","set","setOnce","unset","preInsert","postInsert","remove","getUserProperties"],l=0;l<p.length;l++)r(c,p[l]);n.Identify=c;for(var d=function(){return this._q=[],this},f=["getEventProperties","setProductId","setQuantity","setPrice","setRevenue","setRevenueType","setEventProperties"],v=0;v<f.length;v++)r(d,f[v]);n.Revenue=d;var m=["getDeviceId","setDeviceId","getSessionId","setSessionId","getUserId","setUserId","setOptOut","setTransport","reset","extendSession"],g=["init","add","remove","track","logEvent","identify","groupIdentify","setGroup","revenue","flush"];i(n),n.createInstance=function(e){return n._iq[e]={_q:[]},i(n._iq[e]),n._iq[e]},e.amplitude=n}}(window,document)}();';var Q='!function(){var analytics=window.analytics=window.analytics||[];if(!analytics.initialize)if(analytics.invoked)window.console&&console.error&&console.error("Snippet included twice.");else{analytics.invoked=!0;analytics.methods=["trackSubmit","trackClick","trackLink","trackForm","pageview","identify","reset","group","track","ready","alias","debug","page","once","off","on","addSourceMiddleware","addIntegrationMiddleware","setAnonymousId","addDestinationMiddleware"];analytics.factory=function(e){return function(){var t=Array.prototype.slice.call(arguments);t.unshift(e);analytics.push(t);return analytics}};for(var e=0;e<analytics.methods.length;e++){var key=analytics.methods[e];analytics[key]=analytics.factory(key)}analytics.load=function(key,e){var t=document.createElement("script");t.type="text/javascript";t.async=!0;t.src="https://cdp.customer.io/v1/analytics-js/snippet/" + key + "/analytics.min.js";var n=document.getElementsByTagName("script")[0];n.parentNode.insertBefore(t,n);analytics._writeKey=key;analytics._loadOptions=e};analytics.SNIPPET_VERSION="4.15.3"; }}()',A=class extends a{constructor(){super(...arguments);this.providerName="customer-io"}static{this.providerName="customer-io"}init(e,t={}){a.logAction("INIT",`[${this.providerName}]`,e),this.saveOptions(t),u(Q,{async:!0}),window.analytics.load(e)}ready(){return!!window.analytics}pageView(e,t){a.logAction("PAGE",`[${this.providerName}]`,e,t),window.analytics.page({name:e,...t})}track(e,t,r){let{eventName:o,params:s}=this.getTrackEvent(e,t);a.logAction("TRACK",`[${this.providerName}]`,o,s),window.analytics.track(o,s),typeof r=="function"&&r()}identify(e,t){a.logAction("IDENTIFY",`[${this.providerName}]`,e,t),window.analytics.identify(e,t)}};var _=class extends a{constructor(){super(...arguments);this.providerName="facebook-pixel";this.pixelIds=[]}static{this.providerName="facebook-pixel"}init(e,t={},r){if(a.logAction("INIT",`[${this.providerName}]`,e),this.saveOptions(t),this.pixelIds.includes(e)){a.logAction("INIT",`[${this.providerName}]`,`Pixel ${e} already initialized`);return}this.ready()||this.initializeFacebookPixelScript(),this.pixelIds.push(e),window.fbq("init",e,r),window.fbq("track","PageView")}initializeFacebookPixelScript(){window.fbq=function(){window.fbq.callMethod?window.fbq.callMethod.apply(window.fbq,arguments):window.fbq.queue.push(arguments)},window._fbq||(window._fbq=window.fbq),window.fbq.push=window.fbq,window.fbq.loaded=!0,window.fbq.version="2.0",window.fbq.queue=[],k("https://connect.facebook.net/en_US/fbevents.js")}ready(){return!!window.fbq}pageView(e,t){a.logAction("PAGE",`[${this.providerName}]`,e,t),window.fbq("track","PageView",t)}track(e,t,r){let{eventName:o,params:s}=this.getTrackEvent(e,t);a.logAction("TRACK",`[${this.providerName}]`,o,s),window.fbq("track",o,s),typeof r=="function"&&r()}identify(){}};var z=()=>typeof window<"u",B=()=>!(!z()||!window.hj),q=(i,...n)=>{if(z()&&window.hj)return window.hj(i,...n);throw Error("Hotjar is not available, make sure init has been called.")},J=(i,n,e)=>{if(!((t,r,o)=>{try{let s=document.getElementById(r)||document.createElement("script");return s.id=r,s.nonce=o,s.innerText=t,s.crossOrigin="anonymous",document.head.appendChild(s),!0}catch{return!1}})(`(function(h,o,t,j,a,r){h.hj=h.hj||function(){(h.hj.q=h.hj.q||[]).push(arguments)};h._hjSettings={hjid:${i},hjsv:${n},hjdebug:${e?.debug||!1}};a=o.getElementsByTagName('head')[0];r=o.createElement('script');r.async=1;r.src=t+h._hjSettings.hjid+j+h._hjSettings.hjsv;a.appendChild(r);})(window,document,'https://static.hotjar.com/c/hotjar-','.js?sv=');`,"hotjar-init-script",e?.nonce)||!B())throw Error("Failed to initialize Hotjar tracking script.")},X={init:(i,n,e)=>{try{return J(i,n,e),!0}catch(t){return console.error("Error:",t),!1}},event:i=>{try{return q("event",i),!0}catch(n){return console.error("Error:",n),!1}},identify:(i,n)=>{try{return q("identify",i,n),!0}catch(e){return console.error("Error:",e),!1}},stateChange:i=>{try{return q("stateChange",i),!0}catch(n){return console.error("Error:",n),!1}},isReady:B},m=X;var x=class extends a{constructor(){super(...arguments);this.providerName="hotjar"}static{this.providerName="hotjar"}init(e,t,r={}){a.logAction("INIT",`[${this.providerName}]`,e),this.saveOptions(r),m.init(e,t)}ready(){return!!m}pageView(e,t){a.logAction("PAGE",`[${this.providerName}]`,e,t),m.stateChange(e)}track(e,t,r){let{eventName:o,params:s}=this.getTrackEvent(e,t);a.logAction("TRACK",`[${this.providerName}]`,o,s),m.event(o),typeof r=="function"&&r()}identify(e,t){throw a.logAction("IDENTIFY",`[${this.providerName}]`,e,t),m.identify(e,t),new Error("Method not implemented.")}};var R=class extends a{constructor(){super(...arguments);this.providerName="user-guiding"}static{this.providerName="user-guiding"}init(e,t={}){a.logAction("INIT",`[${this.providerName}]`,e),this.saveOptions(t);let r=`(function(g,u,i,d,e,s){g[e]=g[e]||[];var f=u.getElementsByTagName(i)[0];var k=u.createElement(i);k.async=true;k.src='https://static.userguiding.com/media/user-guiding-'+s+'-embedded.js';f.parentNode.insertBefore(k,f);if(g[d])return;var ug=g[d]={q:[]};ug.c=function(n){return function(){ug.q.push([n,arguments])};};var m=['previewGuide','finishPreview','track','identify','hideChecklist','launchChecklist'];for(var j=0;j<m.length;j+=1){ug[m[j]]=ug.c(m[j]);}})(window,document,'script','userGuiding','userGuidingLayer','${e}');`;u(r)}ready(){return!!window.userGuiding}pageView(){}track(e,t,r){let{eventName:o,params:s}=this.getTrackEvent(e,t);a.logAction("TRACK",`[${this.providerName}]`,o,s),window.userGuiding.track(o,s),typeof r=="function"&&r()}identify(e,t){a.logAction("IDENTIFY",`[${this.providerName}]`,e,t),window.userGuiding&&window.userGuiding.identify(e,t)}};var O=class extends a{constructor(){super(...arguments);this.providerName="tiktok-pixel";this.pixelIds=[]}static{this.providerName="tiktok-pixel"}initializeTiktokPixelScript(e,t){e.TiktokAnalyticsObject=t;let r=e[t]=e[t]||[];r.methods=["page","track","identify","instances","debug","on","off","once","ready","alias","group","enableCookie","disableCookie"],r.setAndDefer=function(o,s){o[s]=function(){o.push([s].concat(Array.prototype.slice.call(arguments,0)))}};for(let o=0;o<r.methods.length;o++)r.setAndDefer(r,r.methods[o]);r.instance=function(o){for(var s=r._i[o]||[],d=0;d<r.methods.length;d++)r.setAndDefer(s,r.methods[d]);return s},r.load=function(o,s){let d="https://analytics.tiktok.com/i18n/pixel/events.js";r._i=r._i||{},r._i[o]=[],r._i[o]._u=d,r._t=r._t||{},r._t[o]=+new Date,r._o=r._o||{},r._o[o]=s||{};let p=document.createElement("script");p.type="text/javascript",p.async=!0,p.src=d+"?sdkid="+o+"&lib="+t;let g=document.getElementsByTagName("script")[0];g?.parentNode?.insertBefore(p,g)}}loadPixelId(e,t={}){if(!e){c.error("Please insert pixel id for initializing");return}window.ttq.load(e),window.ttq.page(),t&&window.ttq.identify(t)}init(e,t={},r){if(a.logAction("INIT",`[${this.providerName}]`,e),this.saveOptions(t),this.pixelIds.includes(e)){a.logAction("INIT",`[${this.providerName}]`,`Pixel ${e} already initialized`);return}this.ready()||this.initializeTiktokPixelScript(window,"ttq"),this.pixelIds.push(e),this.loadPixelId(e,r)}ready(){return!!window.ttq}pageView(e,t){a.logAction("PAGE",`[${this.providerName}]`,e,t),window.ttq.page()}track(e,t,r){let{eventName:o,params:s}=this.getTrackEvent(e,t);a.logAction("TRACK",`[${this.providerName}]`,o,s),window.ttq.track(o,s),typeof r=="function"&&r()}identify(e,t){a.logAction("IDENTIFY",`[${this.providerName}]`,e,t),window.ttq.identify({external_id:e,...t})}};var ee=new b([T,E,I,A,_,x,R,O]);window.t3musketeers=ee;})();
